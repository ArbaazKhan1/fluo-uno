fluo-dev
==========

Scripts and configuration designed to simplify the running of Fluo infrastructure
during development.  While these scripts make it easy to deploy Fluo, they can wipe
the underlying data of your cluster.  Therefore, they should not be used in production.
They are designed for developers who need to frequently upgrade Fluo, test their code,
and do not care about preserving data.

Installation
------------

First, clone the fluo-dev repo on a local disk with enough space to run Hadoop, Accumulo, etc:
```
git clone git@github.com:fluo-io/fluo-dev.git
```

Next, download the binary tarballs of Hadoop 2.6.0, Accumulo 1.6.1 and Zookeeper 3.4.6
and untar them in the `software/` directory of fluo-dev:
```
cd fluo-dev/software
tar xzf zookeeper-3.4.6.tar.gz
tar xzf accumulo-1.6.1-bin.tar.gz
tar xzf hadoop-2.6.0.tar.gz
``` 

Copy and modify env.sh for your environment
```
cd conf/
cp env.sh.example env.sh
vim env.sh
```

All commands are run using the `fluo-dev` script.  If want to be able to run this script from
any directory, you can optionally add the following to your `~/.bashrc`:
```
export PATH=/path/to/fluo-dev/bin:$PATH
```

You will need to invoke the `fluo` command using `fluo-dev fluo` as `fluo-dev` will set up
the correct Hadoop environment variables for the `fluo` command.  To avoid using `fluo-dev fluo`
every time, add the following alias to your `~/.bashrc`:
```
alias fluo='fluo-dev fluo'
```

Run the command below to copy Accumulo, Hadoop, and Zookeeper configuration in fluo-dev/conf
to their respective installs.  This command will create a `fluo.properties` file at 
fluo-dev/conf/fluo.properties that will be used by fluo when its deployed.

```
fluo-dev configure all
```

Reset all Fluo dependencies (i.e Hadoop, Accumulo, Zookeeper) which will clear any underlying
data and restart them (if they are running)
```
fluo-dev reset all
```

Verify that your `fluo.properties` file generated by `fluo configure` is correct
```
vim conf/fluo/fluo.properties
```

Finally, deploy Fluo which remove any existing install, rebuild fluo, install fluo, and 
configure it using `conf/fluo/fluo.properties`.
```
fluo-dev deploy
```

Monitor pages
-------------

 * Hadoop NameNode - http://localhost:50070/
 * Hadoop ResourceManager - http://localhost:8088/
 * Accumulo Monitor - http://localhost:50095/
